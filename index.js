(()=>{"use strict";const e=[{keyCode:"Backquote",en:{normal:"`",shift:"~",capsLock:"`"},ua:{normal:"'",shift:"₴",capsLock:"'"},universalButton:!1,number:!0},{keyCode:"Digit1",en:{normal:"1",shift:"!"},ua:{normal:"1",shift:"!"},universalButton:!1,number:!0},{keyCode:"Digit2",en:{normal:"2",shift:"@"},ua:{normal:"2",shift:'"'},universalButton:!1,number:!0},{keyCode:"Digit3",en:{normal:"3",shift:"#"},ua:{normal:"3",shift:"№"},universalButton:!1,number:!0},{keyCode:"Digit4",en:{normal:"4",shift:"$"},ua:{normal:"4",shift:";"},universalButton:!1,number:!0},{keyCode:"Digit5",en:{normal:"5",shift:"%"},ua:{normal:"5",shift:"%"},universalButton:!1,number:!0},{keyCode:"Digit6",en:{normal:"6",shift:"^"},ua:{normal:"6",shift:":"},universalButton:!1,number:!0},{keyCode:"Digit7",en:{normal:"7",shift:"&"},ua:{normal:"7",shift:"?"},universalButton:!1,number:!0},{keyCode:"Digit8",en:{normal:"8",shift:"*"},ua:{normal:"8",shift:"*"},universalButton:!1,number:!0},{keyCode:"Digit9",en:{normal:"9",shift:"("},ua:{normal:"9",shift:"("},universalButton:!1,number:!0},{keyCode:"Digit0",en:{normal:"0",shift:")"},ua:{normal:"0",shift:")"},universalButton:!1,number:!0},{keyCode:"Minus",en:{normal:"-",shift:"_"},ua:{normal:"-",shift:"_"},universalButton:!1,number:!0},{keyCode:"Equal",en:{normal:"=",shift:"+"},ua:{normal:"=",shift:"+"},universalButton:!1,number:!0},{keyCode:"Backspace",en:{normal:"Backspace"},ua:{normal:"Backspace"},universalButton:!0},{keyCode:"Tab",en:{normal:"Tab"},ua:{normal:"Tab"},universalButton:!0},{keyCode:"KeyQ",en:{normal:"q",shift:"Q",capsLock:"Q"},ua:{normal:"й",shift:"Й",capsLock:"Й"},universalButton:!1},{keyCode:"KeyW",en:{normal:"w",shift:"W",capsLock:"W"},ua:{normal:"ц",shift:"Ц",capsLock:"Ц"},universalButton:!1},{keyCode:"KeyE",en:{normal:"e",shift:"E",capsLock:"E"},ua:{normal:"у",shift:"У",capsLock:"У"},universalButton:!1},{keyCode:"KeyR",en:{normal:"r",shift:"R",capsLock:"R"},ua:{normal:"к",shift:"К",capsLock:"К"},universalButton:!1},{keyCode:"KeyT",en:{normal:"t",shift:"T",capsLock:"T"},ua:{normal:"е",shift:"Е",capsLock:"Е"},universalButton:!1},{keyCode:"KeyY",en:{normal:"y",shift:"Y",capsLock:"Y"},ua:{normal:"н",shift:"Н",capsLock:"Н"},universalButton:!1},{keyCode:"KeyU",en:{normal:"u",shift:"U",capsLock:"U"},ua:{normal:"г",shift:"Г",capsLock:"Г"},universalButton:!1},{keyCode:"KeyI",en:{normal:"i",shift:"I",capsLock:"I"},ua:{normal:"ш",shift:"Ш",capsLock:"Ш"},universalButton:!1},{keyCode:"KeyO",en:{normal:"o",shift:"O",capsLock:"O"},ua:{normal:"щ",shift:"Щ",capsLock:"Щ"},universalButton:!1},{keyCode:"KeyP",en:{normal:"p",shift:"P",capsLock:"P"},ua:{normal:"з",shift:"З",capsLock:"З"},universalButton:!1},{keyCode:"BracketLeft",en:{normal:"[",shift:"{",capsLock:"{"},ua:{normal:"х",shift:"Х",capsLock:"Х"},universalButton:!1},{keyCode:"BracketRight",en:{normal:"]",shift:"}",capsLock:"}"},ua:{normal:"ї",shift:"Ї",capsLock:"Ї"},universalButton:!1},{keyCode:"Backslash",en:{normal:"\\",shift:"|"},ua:{normal:"\\",shift:"/"},universalButton:!1},{keyCode:"Delete",en:{normal:"Del"},ua:{normal:"Del"},universalButton:!0},{keyCode:"CapsLock",en:{normal:"CapsLock"},ua:{normal:"CapsLock"},universalButton:!0},{keyCode:"KeyA",en:{normal:"a",shift:"A",capsLock:"A"},ua:{normal:"ф",shift:"Ф",capsLock:"Ф"},universalButton:!1},{keyCode:"KeyS",en:{normal:"s",shift:"S",capsLock:"S"},ua:{normal:"і",shift:"І",capsLock:"І"},universalButton:!1},{keyCode:"KeyD",en:{normal:"d",shift:"D",capsLock:"D"},ua:{normal:"в",shift:"В",capsLock:"В"},universalButton:!1},{keyCode:"KeyF",en:{normal:"f",shift:"F",capsLock:"F"},ua:{normal:"а",shift:"А",capsLock:"А"},universalButton:!1},{keyCode:"KeyG",en:{normal:"g",shift:"G",capsLock:"G"},ua:{normal:"п",shift:"П",capsLock:"П"},universalButton:!1},{keyCode:"KeyH",en:{normal:"h",shift:"H",capsLock:"H"},ua:{normal:"р",shift:"Р",capsLock:"Р"},universalButton:!1},{keyCode:"KeyJ",en:{normal:"j",shift:"J",capsLock:"J"},ua:{normal:"о",shift:"О",capsLock:"О"},universalButton:!1},{keyCode:"KeyK",en:{normal:"k",shift:"K",capsLock:"K"},ua:{normal:"л",shift:"Л",capsLock:"Л"},universalButton:!1},{keyCode:"KeyL",en:{normal:"l",shift:"L",capsLock:"L"},ua:{normal:"д",shift:"Д",capsLock:"Д"},universalButton:!1},{keyCode:"Semicolon",en:{normal:";",shift:":",capsLock:":"},ua:{normal:"ж",shift:"Ж",capsLock:"Ж"},universalButton:!1},{keyCode:"Quote",en:{normal:"'",shift:'"',capsLock:'"'},ua:{normal:"є",shift:"Є",capsLock:"Є"},universalButton:!1},{keyCode:"Enter",en:{normal:"Enter"},ua:{normal:"Enter"},universalButton:!0},{keyCode:"ShiftLeft",en:{normal:"Shift"},ua:{normal:"Shift"},universalButton:!0},{keyCode:"KeyZ",en:{normal:"z",shift:"Z",capsLock:"Z"},ua:{normal:"я",shift:"Я",capsLock:"Я"},universalButton:!1},{keyCode:"KeyX",en:{normal:"x",shift:"X",capsLock:"X"},ua:{normal:"ч",shift:"Ч",capsLock:"Ч"},universalButton:!1},{keyCode:"KeyC",en:{normal:"c",shift:"C",capsLock:"C"},ua:{normal:"с",shift:"С",capsLock:"С"},universalButton:!1},{keyCode:"KeyV",en:{normal:"v",shift:"V",capsLock:"V"},ua:{normal:"м",shift:"М",capsLock:"М"},universalButton:!1},{keyCode:"KeyB",en:{normal:"b",shift:"B",capsLock:"B"},ua:{normal:"и",shift:"И",capsLock:"И"},universalButton:!1},{keyCode:"KeyN",en:{normal:"n",shift:"N",capsLock:"N"},ua:{normal:"т",shift:"Т",capsLock:"Т"},universalButton:!1},{keyCode:"KeyM",en:{normal:"m",shift:"M",capsLock:"M"},ua:{normal:"ь",shift:"Ь",capsLock:"Ь"},universalButton:!1},{keyCode:"Comma",en:{normal:",",shift:"<",capsLock:"<"},ua:{normal:"б",shift:"Б",capsLock:"Б"},universalButton:!1},{keyCode:"Period",en:{normal:".",shift:">",capsLock:">"},ua:{normal:"ю",shift:"Ю",capsLock:"Ю"},universalButton:!1},{keyCode:"Slash",en:{normal:"/",shift:"?"},ua:{normal:".",shift:","},universalButton:!1},{keyCode:"ArrowUp",en:{normal:"↑"},ua:{normal:"↑"},universalButton:!0},{keyCode:"ShiftRight",en:{normal:"Shift"},ua:{normal:"Shift"},universalButton:!0},{keyCode:"ControlLeft",en:{normal:"Ctrl"},ua:{normal:"Ctrl"},universalButton:!0},{keyCode:"MetaLeft",en:{normal:"Win"},ua:{normal:"Win"},universalButton:!0},{keyCode:"AltLeft",en:{normal:"Alt"},ua:{normal:"Alt"},universalButton:!0},{keyCode:"Space",en:{normal:"Space"},ua:{normal:"Space"},universalButton:!0},{keyCode:"AltRight",en:{normal:"Alt"},ua:{normal:"Alt"},universalButton:!0},{keyCode:"ArrowLeft",en:{normal:"←"},ua:{normal:"←"},universalButton:!0},{keyCode:"ArrowDown",en:{normal:"↓"},ua:{normal:"↓"},universalButton:!0},{keyCode:"ArrowRight",en:{normal:"→"},ua:{normal:"→"},universalButton:!0},{keyCode:"ControlRight",en:{normal:"Ctrl"},ua:{normal:"Ctrl"},universalButton:!0}];function t(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=new(function(){function a(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),e=this,t="refs",n={body:document.querySelector("body")},t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e.refs=n,this.capsLock=!1,this.languach="ua"===localStorage.getItem("lang")?"ua":"en"}var n,o;return n=a,(o=[{key:"init",value:function(){this.main=document.createElement("div"),this.main.classList.add("container"),this.main.innerHTML='<h1 class="title">RSS Virtual Keyboard</h1><textarea class="textarea" id="textarea" rows="5" cols="50"></textarea>',this.keysContainer=document.createElement("div"),this.keysContainer.classList.add("keyboard"),this.text=document.createElement("div"),this.text.classList.add("text"),this.text.innerHTML="\n      Клавиатура создана в операционной системе Windows <br>\n      Для переключения языка комбинация: Ctrl + ALt",this.keysContainer.appendChild(this.createKeys(this.languach)),this.main.appendChild(this.text),this.main.appendChild(this.keysContainer),this.refs.body.appendChild(this.main)}},{key:"createKeys",value:function(t){var a=this;return this.fragment=document.createDocumentFragment(),e.forEach((function(e){var n=e.keyCode,o=e.en,r=e.ua,s=e.universalButton,i=document.createElement("div"),l="en"===t?o.normal:r.normal;s?(i.classList.add("keys",n),i.innerHTML=o.normal,i.setAttribute("name",n)):(i.classList.add("keys"),i.innerHTML=l,i.setAttribute("name",n)),a.fragment.appendChild(i)})),this.fragment}},{key:"changeButton",value:function(){var t=this,a=document.querySelectorAll("[name]"),n=document.querySelector(".CapsLock");this.textarea=document.querySelector(".textarea"),document.addEventListener("keydown",(function(e){return t.toggleButton(e,"add")})),document.addEventListener("keyup",(function(e){return t.toggleButton(e,"remove")})),document.addEventListener("keydown",(function(e){(e.ctrlKey||e.metaKey)&&e.altKey&&!e.repeat&&t.changeLanguach()})),this.toggleButton=function(o,r){t.textarea.focus(),"CapsLock"===o.code&&"add"===r&&(n.classList.toggle("active"),t.capsLock=!t.capsLock),a.forEach((function(a){var n=a.getAttribute("name");n===o.code&&"CapsLock"!==o.code&&a.classList[r]("active"),e.forEach((function(e){var s=e[t.languach].capsLock,i=e[t.languach].shift;switch(o.key){case"CapsLock":t.capsLock?s&&e.keyCode===n&&(a.innerHTML=s):t.capsLock||s&&e.keyCode===n&&(a.innerHTML=e[t.languach].normal);break;case"Shift":i&&e.keyCode===n&&("add"===r?t.capsLock?e.number?a.innerHTML=e[t.languach].shift:a.innerHTML=e[t.languach].normal:a.innerHTML=i:"remove"===r&&(t.capsLock?e.number?a.innerHTML=e[t.languach].normal:a.innerHTML=e[t.languach].shift:t.capsLock?a.innerHTML=i:a.innerHTML=e[t.languach].normal));break;case"ArrowUp":"remove"===r&&(t.textarea.selectionStart=0,t.textarea.selectionEnd=t.textarea.selectionStart);break;case"ArrowDown":"remove"===r&&(t.textarea.selectionEnd=t.textarea.textLength,t.textarea.selectionStart=t.textarea.selectionEnd);break;case"ArrowLeft":"remove"===r&&(t.textarea.selectionStart=Math.max(0,t.textarea.selectionStart-1),t.textarea.selectionEnd=t.textarea.selectionStart);break;case"ArrowRight":"remove"===r&&(t.textarea.selectionStart=Math.min(t.textarea.textLength,t.textarea.selectionEnd+1),t.textarea.selectionEnd=t.textarea.selectionStart);break;case"Tab":"remove"===r&&t.tabAndEnterTap("\t");break;case"Enter":"remove"===r&&t.tabAndEnterTap("\n");break;case"Delete":"remove"===r&&t.pressDelete()}}))}))},this.keysContainer.addEventListener("click",(function(e){var a=e.target.getAttribute("name");t.textarea.focus();var n=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,code:a,view:window});document.dispatchEvent(n),t.textarea.focus();var o=new KeyboardEvent("keyup",{bubbles:!0,cancelable:!0,code:a,view:window});document.dispatchEvent(o)}))}},{key:"changeLanguach",value:function(){var t=this,a=document.querySelectorAll("[name]"),n=this.capsLock?"shift":"normal";this.languach="ua"===this.languach?"en":"ua",localStorage.setItem("lang",this.languach),a.forEach((function(a){var o=a.getAttribute("name");e.forEach((function(e){var r=e[t.languach].capsLock;e.keyCode===o&&r&&(a.innerHTML=e[t.languach][n])}))}))}},{key:"tabAndEnterTap",value:function(e){this.textarea=document.querySelector(".textarea");var t=this.textarea.selectionStart;this.textarea.value=this.textarea.value.slice(0,t)+e+this.textarea.value.slice(this.textarea.selectionEnd),this.textarea.selectionStart=t+e.length,this.textarea.selectionEnd=this.textarea.selectionStart}},{key:"pressBackspace",value:function(){if(this.textarea=document.querySelector(".textarea"),this.textarea.selectionStart!==this.textarea.selectionEnd)this.insertText("");else{var e=Math.max(0,this.textarea.selectionStart-1);this.textarea.value=this.textarea.value.slice(0,e)+this.textarea.value.slice(this.textarea.selectionEnd),this.textarea.selectionStart=e,this.textarea.selectionEnd=this.textarea.selectionStart}}},{key:"pressDelete",value:function(){if(this.textarea=document.querySelector(".textarea"),this.textarea.selectionStart!==this.textarea.selectionEnd)this.insertText("");else{var e=this.textarea.selectionStart;this.textarea.value=this.textarea.value.slice(0,e)+this.textarea.value.slice(e+1),this.textarea.selectionStart=e,this.textarea.selectionEnd=this.textarea.selectionStart}}}])&&t(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),a}());a.init(),a.changeButton(),alert("Дорогой проверяющий, прошу проверить данную работу завтра, так как не успел додалать. Спасибо за понимание.")})();